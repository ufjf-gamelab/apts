@startuml simplified_class_diagram_of_package_game

skinparam linetype ortho
skinparam packageStyle rectangle
skinparam defaultFontName "Atkinson Hyperlegible Next"

hide empty members

!function $type($name)
!return "struct " + $name + " << (T,lavender) >>"
!endfunction


abstract class Slot {
  ' + {static} getSlot( {\n    indexOfSlot: IndexOfSlot;\n    slots: Slot[]\n  } ) : Slot | null
}

abstract class Score {
  - pointsOfEachPlayer: PointsOfEachPlayer

  ' + getPointsOfEachPlayer(): this.pointsOfEachPlayer
  + getPointsOfPlayer( {\n    indexOfPlayer: IndexOfPlayer\n  } ) : Points
  ' # getQuantityOfPlayers() : Integer
}

abstract class Move {
  - title: string
  - description: string

  ' + getTitle(): this.title
  ' + getDescription(): this.description
}

abstract class Player {
  - name: string
  - symbol: Char

  ' + getName(): this.name
  ' + getSymbol(): this.symbol
}

abstract class Game {
  - name: string
  - moves: Move[]
  - players: Player[]
  - slots: Slot[]
  --
  + getMove( { indexOfMove: IndexOfMove } ) : Move | null
  + getPlayer( { indexOfPlayer: IndexOfPlayer } ) : Player | null
  .. abstract ..
  + {abstract} getQuantityOfRows() : Integer
  + {abstract} getQuantityOfColumns() : Integer
  + {abstract} getQuantityOfChannels() : Integer
  + {abstract} constructInitialState() : State
  + {abstract} getIndexesOfValidMoves( { state: State } ) : Set<IndexOfMove>
  + {abstract} getIndexOfNextPlayer( { state: State } ) : IndexOfPlayer
  + {abstract} play( { indexOfMove: IndexOfMove; state: State } ) : State
  + {abstract} isFinal( { state: State } ) : boolean
}
Game -up-> Move
Game -up-> Player
Game -left-> Slot

abstract class State {
  - game: Game
  - indexOfPlayer: IndexOfPlayer
  - score: Score
  - slots: Slot[]
  --
  + getSlot( { indexOfSlot: IndexOfSlot } ) : Slot | null
  .. abstract ..
  + {abstract} getEncodedState() : EncodedState
}
State -right-> Slot
State -up-> Score
State -right-> Game

@enduml
